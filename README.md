## Braille-recognition-preprocessing-(opencv and python)

## Team members
	Yunxuan Zhang, Yang Wu, Haomiao Yuan, Zhenming Songï¼Œ Yuzhe Zhao  
## Tutor
	Mr.He (Bingran HE)

## Content
1. [Environment](#1)
2. [Abstract](#Abstract)
3. [Purpose and backgroud knowledge](#P&B)
4. [Important operation](#IO)
5. [Tips](#Tips)

##  Environment
python 3.7 & opencv 3.4.1

## Abstract
Braille recognition preprocessing is the first part of braille recognition. The content is to collect and segment image information into individual braille characters for output, which can then be used as input for braille recognition and output results. For the research of this project, the team chose python language and opencv image processing tool. The project identified several preprocessing steps during the experiment, including Braille image acquisition, image processing, image segmentation and output. For each part, different schemes were prepared and studied separately, tested, and the scheme with better performance was selected and optimized. Finally, the obtained program can use a computer or mobile phone camera to collect images; the shooting conditions are relatively loose, and a rotation error of plus and minus 30 degrees is allowed for the taken pictures; the obtained results are of the same size and can be specified in size, and the pictures are clear and completely acceptable. Meet the requirements for Braille recognition.

## P&B

- Research and implement the application algorithm to realize the preprocessing of braille, complete the collection of images from the calling camera, process the collected images, correct the errors caused by the limitation of shooting conditions, and determine the position of the braille characters in the picture, segment the single braille characters, and output them Go to the specified location as input for subsequent braille recognition.
- Braille preprocessing is mainly divided into three parts: Braille picture collection, that is, calling the mobile platform camera to collect the printed Braille pictures; Braille picture processing, that is, using digital image processing methods to perform operations such as grayscale and binarization of pictures. Only extract the braille character information; image segmentation, according to the characteristics of braille, the image is segmented, the individual characters are separated, and the output is sorted in the designated file area.
- Braille characters are composed of 3*2 6 dots. Different alphabets are represented by different arrangement of character points.

## IO


1. Image Acquisition:  
There are 2 methods in the program (replaceable)
2.  Image Processing:  
1 Gray processing  
We also normalize the histogram to improve the contrast of grayscale images.  
2 Binaryzation:  
Gaussian filtering, adaptive threshold binarization, median filtering, opening operation, median filtering are used successively.  
3 Grayscale projection and image correction:  
Drawing on the content of the "Research on Braille Automatic Recognition Based on Deep Learning_Li Rongrui", the binarized picture is projected horizontally and vertically. If there is no error in the horizontal and vertical directions, the gray-scale projections of the blind spots in the same row will be superimposed at the same horizontal position; the gray-scale projections of the blind spots in the same column will be superimposed at the same vertical position. If there is an error, then the blind spot projection range of the same column or the same line becomes larger, the gray scale generated by the projection becomes lower, and the projection is more concentrated at the bottom. According to the whole characteristics, the picture is rotated to obtain the projection result again, and the best correction angle can be obtained through continuous adjustment and comparison.  
The judgment index is the sum of the number of black pixels at the bottom of the vertical projection to the total pixel points of the vertical bottom image and the number of black pixels at the bottom of the horizontal projection than the total pixel points of the horizontal bottom image after rotation.  
C[i] =(p1/p0)+(q1/q0) Get the smallest value in C[] and determine the angle of rotation correction. In the formula, p1 is the number of black pixels at the bottom of the vertical projection, p0 is the total number of pixels in the vertical bottom image; q1 is the number of black pixels at the bottom of the horizontal projection, q0 is the total number of pixels in the horizontal bottom image 
3. Image segmentation  
	By locating the middle position of the interval between two braille characters, the dividing line is obtained, and the position of the dividing line is counted, and the average distance of the braille characters is obtained, thereby obtaining a sliding frame and dividing the picture.  
	The segmentation method has strong robustness and can face some extreme situations.

## Tips  
For more details, please read the word document in the report.

